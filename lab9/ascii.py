import spidev
import time

spi7 = spidev.SpiDev()
spi7.open(0, 0)
spi7.max_speed_hz = 5000
spi7.mode = 0b00

def ascii_7seg(char):
    return ascii[ord(char)]

ascii = [0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, # 00-0f
         0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, # 10-1f
         0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, # 20-2f
         0x3f, 0x06, 0x5b, 0x4f, 0x66, 0x6d, 0x7d, 0x07, 0x7f, 0x6f, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, # 30-3f
         0x00, 0x5f, 0x7c, 0x58, 0x5e, 0x79, 0x71, 0x3d, 0x74, 0x11, 0x0d, 0x75, 0x38, 0x55, 0x54, 0x5c, # 40-4f
         0x73, 0x67, 0x50, 0x2d, 0x78, 0x1c, 0x2a, 0x2a, 0x00, 0x6e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, # 50-5f
         0x00, 0x5f, 0x7c, 0x58, 0x5e, 0x79, 0x71, 0x3d, 0x74, 0x11, 0x0d, 0x75, 0x38, 0x55, 0x54, 0x5c, # 60-6f
         0x73, 0x67, 0x50, 0x2d, 0x78, 0x1c, 0x2a, 0x2a, 0xf6, 0x6e, 0x1b, 0x00, 0x00, 0x00, 0x00, 0x00] # 70-7f

# wb = ascii_7seg('w')
# xb = ascii_7seg('x')
# yb = ascii_7seg('y')
# zb = ascii_7seg('z')

# initialize 7-seg display
spi7.writebytes([0x76])

while True:
    # control digit 1 only
    spi7.writebytes([0x7B])
    spi7.writebytes([0x1c])
    time.sleep(1)

    # control digit 2 only
    spi7.writebytes([0x7C])
    spi7.writebytes([0x73])
    time.sleep(1)

    # control digit 3 only
    spi7.writebytes([0x7D])
    spi7.writebytes([0x50])   
    time.sleep(1)

    # control digit 4 only
    spi7.writebytes([0x7E])
    spi7.writebytes([0x5c])
    time.sleep(1)

